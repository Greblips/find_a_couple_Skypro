(()=>{"use strict";const t=["♠","♣","♥","♦"],e=["A","6","7","8","9","10","J","Q","K"];class s{constructor(s=function(){return t.flatMap((t=>e.map((e=>new n(t,e)))))}()){this.cards=s}get numberOfCards(){return this.cards.length}shuffle(){for(let t=this.numberOfCards-1;t>0;t--){const e=Math.floor(Math.random()*(t+1)),s=this.cards[e];this.cards[e]=this.cards[t],this.cards[t]=s}}}class n{constructor(t,e){this.suit=t,this.value=e}}const a=t=>{const e=t.flatMap((t=>[t,t]));for(let t=0;t<e.length-1;t++){let s=t+Math.floor(Math.random()*(e.length-t)),n=e[s];e[s]=e[t],e[t]=n}return e},c=t=>{const e={"♠":"spades.svg","♣":"clubs.svg","♥":"hearts.svg","♦":"diamonds.svg"},n=document.querySelector(".game-section-start__container"),l=document.querySelector(".game-section-cards__container");document.createElement("div").classList.add("cards__box"),n.style.display="none";const i=(t=>{let e=new s;switch(e.shuffle(),t){case"1":return a(e.cards.slice(0,3));case"2":return a(e.cards.slice(0,6));case"3":return a(e.cards.slice(0,9))}})(t).map((t=>`\n      \n      <div data-value=${t.value} data-suit=${t.suit} class="game-table__card" >\n     \n          <div class="card__face" style="background: url(./img/${e[t.suit]}) center center no-repeat, rgb(255, 255, 255);">\n         \n              <div class="card__top">    \n                  <div class="card__value">${t.value}\n                  </div>\n                  <img class="card__suit" src="./img/${e[t.suit]}" alt="suit">\n              </div>\n              <div class="card__bottom">    \n                  <div class="card__value">${t.value}\n                  </div>\n                  <img class="card__suit" src="./img/${e[t.suit]}" alt="suit">\n              </div>\n              \n              \n          </div>\n          <div class="card__back"></div>\n          \n    </div>\n     \n      `)).join("");l.innerHTML=`\n    <div class="main__game_content">\n        <div id="timer">\n            <div class="timer__text">\n                <span class='timer__text_item'>min</span> <span class='timer__text_item'>sek</span>\n            </div>\n            <p class='timer'>00.00</p>\n        </div>\n        <button class="main__game_content_button">Начать заново</button>\n    </div>\n        <div class="main__game_cardsBox">\n        ${i}\n        </div> `,document.querySelector(".main__game_content_button").addEventListener("click",(()=>{c(t)})),setTimeout((()=>function(){const t=document.querySelectorAll(".card__back");for(const e of t)e.style.display="flex"}()),5e3),function(){let t=null,e=null,s=!0,n=Array.from(document.querySelectorAll(".game-table__card"));n.forEach(((a,c)=>a.addEventListener("click",(()=>{if(1==s&&!a.classList.contains("successfully")&&(a.querySelector(".card__back").classList.remove("card__back"),null==t?t=c:c!=t&&(e=c,s=!1),null!=t&&null!=e&&t!=e))if(n[t].dataset.suit===n[e].dataset.suit&&n[t].dataset.value===n[e].dataset.value){n[t].classList.add("successfully"),n[e].classList.add("successfully"),t=null,e=null,s=!0;const a=n.filter((t=>t.classList.contains("successfully")));n.length===a.length&&setTimeout((()=>{alert("вы выиграли")}),500)}else setTimeout((()=>{alert("вы програли")}),500)}))))}()};(()=>{const t=document.createElement("h2"),e=document.querySelector(".game-section-start__container");e.innerHTML="",t.textContent="Выбери сложность",t.classList.add("game-menu__title");const s=document.createElement("button");s.classList.add("game-menu__difficult-btn"),s.textContent=1;const n=document.createElement("button");n.classList.add("game-menu__difficult-btn"),n.textContent=2;const a=document.createElement("button");a.classList.add("game-menu__difficult-btn"),a.textContent=3;const l=document.createElement("button");l.classList.add("game-menu__start-btn"),l.textContent="Старт",e.append(t,s,n,a,l);const i=document.querySelectorAll(".game-menu__difficult-btn");for(const t of i)t.addEventListener("click",(()=>{i.forEach((t=>t.classList.remove("game-menu__difficult-btn_checked"))),t.classList.add("game-menu__difficult-btn_checked");const e=t.textContent;l.addEventListener("click",(()=>c(e)))}))})()})();